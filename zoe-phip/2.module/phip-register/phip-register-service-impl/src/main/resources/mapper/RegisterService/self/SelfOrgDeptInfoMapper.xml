<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zoe.phip.register.dao.IOrgDeptInfoMapper">
<resultMap id="MultiResultMap" type="com.zoe.phip.register.model.OrgDeptInfo" extends="BaseResultMap">

</resultMap>
<update id="defaultUpdate" parameterType="com.zoe.phip.register.model.OrgDeptInfo">
    update PHIP_ORG_DEPT_INFO
    <set>
        <if test="DIVISION_ROOT != null">
            DIVISION_ROOT = #{divisionRoot,jdbcType=VARCHAR},
        </if>
        <if test="deptCode != null">
            DEPT_CODE = #{deptCode,jdbcType=VARCHAR},
        </if>
        <if test="deptName != null">
            DEPT_NAME = #{deptName,jdbcType=VARCHAR},
        </if>
        <if test="deptTypeCode != null">
            DEPT_TYPE_CODE = #{deptTypeCode,jdbcType=VARCHAR},
        </if>
        <if test="deptTypeName != null">
            DEPT_TYPE_NAME = #{deptTypeName,jdbcType=VARCHAR},
        </if>
        <if test="deptRoleName != null">
            DEPT_ROLE_NAME = #{deptRoleName,jdbcType=VARCHAR},
        </if>
        <if test="deptParentCode != null">
            DEPT_PARENT_CODE = #{deptParentCode,jdbcType=VARCHAR},
        </if>
        <if test="deptParentName != null">
            DEPT_PARENT_NAME = #{deptParentName,jdbcType=VARCHAR},
        </if>
        <if test="roleName != null">
            ROLE_NAME = #{roleName,jdbcType=VARCHAR},
        </if>
        <if test="roleState != null">
            ROLE_STATE = #{roleState,jdbcType=VARCHAR},
        </if>
        <if test="effectiveTimeLow != null">
            EFFECTIVE_TIME_LOW = #{effectiveTimeLow,jdbcType=DATE},
        </if>
        <if test="effectiveTimeHigh != null">
            EFFECTIVE_TIME_HIGH = #{effectiveTimeHigh,jdbcType=DATE},
        </if>
        <if test="employerAddr != null">
            EMPLOYER_ADDR = #{employerAddr,jdbcType=VARCHAR},
        </if>
        <if test="employerTelNo != null">
            EMPLOYER_TEL_NO = #{employerTelNo,jdbcType=VARCHAR},
        </if>
        <if test="msgId != null">
            MSG_ID = #{msgId,jdbcType=VARCHAR},
        </if>
        <if test="assignedCode != null">
            ASSIGNED_CODE = #{assignedCode,jdbcType=VARCHAR},
        </if>
        <if test="assignedName != null">
            ASSIGNED_NAME = #{assignedName,jdbcType=VARCHAR},
        </if>
        <if test="assignedDeptCode != null">
            ASSIGNED_DEPT_CODE = #{assignedDeptCode,jdbcType=VARCHAR},
        </if>
        <if test="assignedDeptName != null">
            ASSIGNED_DEPT_NAME = #{assignedDeptName,jdbcType=VARCHAR},
        </if>
        <if test="assignedContactPerson != null">
            ASSIGNED_CONTACT_PERSON = #{assignedContactPerson,jdbcType=VARCHAR},
        </if>
        <if test="creationTime != null">
            CREATION_TIME = #{creationTime,jdbcType=DATE},
        </if>
        <if test="sortNum != null">
            SORT_NUM = #{sortNum,jdbcType=DECIMAL},
        </if>
        <if test="chargeInfoPerson != null">
            CHARGE_INFO_PERSON = #{chargeInfoPerson,jdbcType=VARCHAR},
        </if>
        <if test="chargeInfoTel != null">
            CHARGE_INFO_TEL = #{chargeInfoTel,jdbcType=VARCHAR},
        </if>
        <if test="complaintsHotline != null">
            COMPLAINTS_HOTLINE = #{complaintsHotline,jdbcType=VARCHAR},
        </if>
        <if test="legalRepresentative != null">
            LEGAL_REPRESENTATIVE = #{legalRepresentative,jdbcType=VARCHAR},
        </if>
        <if test="webUrl != null">
            WEB_URL = #{webUrl,jdbcType=VARCHAR},
        </if>
        <if test="email != null">
            EMAIL = #{email,jdbcType=VARCHAR},
        </if>
        <if test="postcode != null">
            POSTCODE = #{postcode,jdbcType=VARCHAR},
        </if>
        <if test="glongitude != null">
            G_LONGITUDE = #{glongitude,jdbcType=DECIMAL},
        </if>
        <if test="glatitude != null">
            G_LATITUDE = #{glatitude,jdbcType=DECIMAL},
        </if>
        <if test="provinceCode != null">
            PROVINCE_CODE = #{provinceCode,jdbcType=VARCHAR},
        </if>
        <if test="cityCode != null">
            CITY_CODE = #{cityCode,jdbcType=VARCHAR},
        </if>
        <if test="countyCode != null">
            COUNTY_CODE = #{countyCode,jdbcType=VARCHAR},
        </if>
        <if test="streetCode != null">
            STREET_CODE = #{streetCode,jdbcType=VARCHAR},
        </if>
        <if test="neighborhoodCode != null">
            NEIGHBORHOOD_CODE = #{neighborhoodCode,jdbcType=VARCHAR},
        </if>
        <if test="state != null">
            STATE = #{state,jdbcType=DECIMAL},
        </if>
        MODIFY_AT=sysdate
</set>
        where DEPT_CODE = #{deptCode}
        </update>

    <select id="getOrgDeptInfo" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT  * FROM PHIP_ORG_DEPT_INFO PODI
        WHERE  1=1
        <if test="_parameter.containsKey('deptCode')">
            AND PODI.DEPT_CODE = #{deptCode,jdbcType=VARCHAR}
        </if>
        <if test="_parameter.containsKey('deptName')">
            AND PODI.DEPT_NAME = #{deptName,jdbcType=VARCHAR}
        </if>
    </select>


    <select id="getOrgDeptInfoList" resultMap="BaseResultMap" parameterType="java.util.Map">
        select * from PHIP_ORG_DEPT_INFO PODI
        <where>
            <if test="key !=null and key !=''">AND (  UPPER(DEPT_CODE) LIKE
                #{key,jdbcType=VARCHAR} OR UPPER(DEPT_NAME) LIKE #{key,jdbcType=VARCHAR})</if>
            <if test="deptTypeCode !=null and deptTypeCode !=''">
                AND PODI.DEPT_TYPE_CODE = #{deptTypeCode,jdbcType=VARCHAR}
            </if>
            <if test="deptParentCode !=null and deptParentCode !=''">
                AND PODI.DEPT_PARENT_CODE = #{deptParentCode,jdbcType=VARCHAR}
            </if>
            <if test="divisionRoot !=null and divisionRoot !=''">
                AND PODI.DIVISION_ROOT = #{divisionRoot,jdbcType=VARCHAR}
            </if>
            <include refid="com.zoe.phip.module.service.selfWhere"/>
        </where>
    </select>



</mapper>