define("modules/SystemManager/SysUser/detail",["{staticDir}/BaseAttr/baseAttr"],function(a,b,c){var d={init:function(){var b=a("{staticDir}/BaseAttr/baseAttr");new b({winName:"win_user_detail_dialog",winCallback:"win_user_detail_callback",getUrl:webRoot+"/user/getUserInfo",addUrl:webRoot+"/user/addUserInfo",updateUrl:webRoot+"/user/updateUserInfo",loadPageEvent:function(){var a=common.getParamFromUrl("state");if("edit"==a){var b=common.getParamFromUrl("id");d.onResetPwd(b),$("#liPwd").remove(),$("#liResetPwd").show()}else $("#liPwd").show(),$("#liResetPwd").remove();$(".btn-switch-outer").btnSwitch({name:"state"})}})},onResetPwd:function(a){$("#resetuserpwd").click(function(){0==$(".Validform_error").length?$.ligerDialog.confirm("是否重置密码？",function(b){if(b){var c=new Request("SystemUser/ResetUserPwd"),d={};d.password="123456",d.id=a,c.post({async:!1,isTip:!1,data:d,success:function(a){a.isSuccess?common.jsmsgSuccess("密码重置成功!"):common.jsmsgError(a.Message[0].Content)}})}}):common.jsmsgError("信息不能为空！")})}};b.init=function(){d.init()}});