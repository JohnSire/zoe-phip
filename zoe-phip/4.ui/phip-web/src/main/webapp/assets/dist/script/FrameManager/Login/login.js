define("modules/FrameManager/Login/login",[],function(a,b,c){var d={init:function(){d.showMsg(""),d.bindEvent();var a=document.getElementById("input-username");d.placeHolder(a,!0);var b=document.getElementById("input-password");d.placeHolder(b,!0)},bindEvent:function(){$("#btn-login").click(function(){if(d.validate()){var a="";a=$("#remember-password").is(":checked")?"true":"false";var b={userCode:$("#input-username").val(),userPwd:$("#input-password").val(),rememberPwd:a},c=new Request("/frame/login/auth");c.post({isTip:!1,data:b,beforeSend:function(){d.showMsg("正在登录中。。。")},success:function(a){a.isSuccess?window.location.href=webRoot+"/frame/index":a.messages[0]?d.showMsg(a.messages[0].content):d.showMsg("用户名或密码不正确!")},complete:function(){}})}}),$("#input-username").keyup(function(a){13==a.keyCode&&$("#btn-login").click()}),$("#input-password").keyup(function(a){13==a.keyCode&&$("#btn-login").click()}),""==$("#input-username").val()&&$("#input-username").focus()},showMsg:function(a){$("#span-msg").html(a)},validate:function(){return 0==$.trim($("#input-username").val()).length||"请输入用户名"==$.trim($("#input-username").val())?(d.showMsg("您还没输入用户名！"),$("#input-username").focus(),!1):0==$("#input-password").val().length?(d.showMsg("您还没输入密码！"),$("#input-password").focus(),!1):!0},placeHolder:function(a,b){function c(){i.style.display=""!=a.value?"none":"inline-block"}function d(a,b){var c=null;return a.currentStyle?c=a.currentStyle[b]:window.getComputedStyle&&(c=window.getComputedStyle(a,null)[b]),c}if(a.getAttribute("placeholder")){var e=b===!0,f="placeholder"in document.createElement("input");if(!f){var g=a.getAttribute("placeholder");if(e){var h=document.createTextNode(g),i=document.createElement("span");i.style.cssText="position:absolute; color:#ACA899; display:inline-block; overflow:hidden;",i.className="wrap-placeholder",i.style.fontFamily=d(a,"fontFamily"),i.style.fontSize=d(a,"fontSize"),i.style.marginLeft=parseInt(d(a,"marginLeft"))?parseInt(d(a,"marginLeft"))+3+"px":"3px",i.style.marginTop=parseInt(d(a,"marginTop"))?d(a,"marginTop"):"1px",i.style.paddingLeft=d(a,"paddingLeft"),i.style.width=a.offsetWidth-parseInt(d(a,"marginLeft"))+"px",i.style.height=a.offsetHeight+"px",i.style.lineHeight="textarea"==a.nodeName.toLowerCase()?"":a.offsetHeight+"px",i.appendChild(h),a.parentNode.insertBefore(i,a),i.onclick=function(){a.focus()},"object"==typeof a.oninput?a.addEventListener("input",c,!1):a.onpropertychange=c}else a.onfocus=function(){a.value==g&&(a.value=""),a.style.color=""},a.onblur=function(){a.value==g?a.style.color="":""==a.value&&(a.value=g,a.style.color="#ACA899")},a.onblur()}}}};b.init=function(){d.init()}});