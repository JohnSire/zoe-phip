define("modules/FrameManager/Layindex/propMenu",[],function(a,b,c){var d={init:function(){d.buildProMenu()},initPopMenuTree:function(){$("#popMenu .pop-box .list-box li").each(function(){var a=$(this).children("a");$(this).children("ul").length>0?a.addClass("nolink"):(a.addClass("link"),a.click(function(){d.linkMenuTree(!0,a.attr("navid"))}))}),d.popMenuTreeResize()},linkMenuTree:function(a,b){var c,d=$("#mainNav"),e=$("#sidebarNav .y-layout-menu"),f=($("#sidebarNav .y-layout-menu .list-wrap"),arguments.length);if(c=2==f?e.find('a[navid="'+b+'"]'):e.find('a[navid="'+getCookie("dt_manage_navigation_cookie")+'"]'),c.length>0?(e.find("ul li a").removeClass("active"),e.find("ul li").removeClass("active"),e.removeClass("active"),d.children("a").removeClass("active"),c.addClass("active"),c.parents(".y-layout-menu").addClass("active"),c.parent(".list").addClass("active"),d.children("a").eq(e.index(c.parents(".y-layout-menu"))).addClass("active"),e.hide(),c.parents(".y-layout-menu").show(),c.parents("li").each(function(){$(this).siblings().each(function(){$(this).children("ul").length>0&&($(this).children("a").removeClass("open").addClass("close"),$(this).children("ul").hide())}),$(this).children("ul").length>0&&$(this).children("a").removeClass("close").addClass("open"),$(this).children("ul").show()}),2==f&&$.cookie("dt_manage_navigation_cookie",b,240),1==a&&""!=c.attr("href")&&"#"!=c.attr("href")&&(frames.mainframe.location.href=c.attr("href"))):2==f&&(e.find("ul li a").removeClass("active"),$.cookie("dt_manage_navigation_cookie","",240)),b){var g=$("#sidebarNav").find("[navid='"+b+"']").closest(".y-layout-menu"),h=$("#sidebarNav").find(".y-layout-menu").index(g);$("#mainNav").find("li").removeClass("active").eq(h).addClass("active")}},popMenuTreeResize:function(){var a=$("#popMenu .list-box .y-layout-menu").outerWidth(),b=$("#popMenu .list-box .y-layout-menu").length*a,c=$(window).width();if(b>c-25){var e=Math.floor(c/a);e>0&&(a=a*e+10)}else a=b+10;$("#popMenu .pop-box").width(a),"block"==$("#popMenu").css("display")&&d.setPopMenuHeight()},setPopMenuHeight:function(){var a=.8*$(window).height(),b=0;$("#popMenu .list-box .y-layout-menu").each(function(){$(this).height()>b&&(b=$(this).height())}),a>b&&(a=b),$("#popMenu .list-box .y-layout-menu").height(b),$("#popMenu .pop-box").height(a)},buildProMenu:function(){d.initPopMenuTree()}};b.init=function(){d.init()}});