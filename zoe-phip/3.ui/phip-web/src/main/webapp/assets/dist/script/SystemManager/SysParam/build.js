define("modules/SystemManager/SysParam/build",["./req"],function(a,b,c){var d={req:a("./req").req,init:function(){d.buildList(),d.save()},buildList:function(){d.req.getList(function(a){$.each(a.result.rows,function(a,b){d.buildItem(b)})})},buildItem:function(a){var b=$("<label></label>").addClass("label").attr({"for":a.code}).text(a.name+"："),c=$("<input style='margin-left:5px; width:150px'/>").addClass("text").attr({name:a.code,id:a.id,edit:"edit"});a.ValidateRegular&&""!=a.ValidateRegular&&c.attr("datatype",a.ValidateRegular),a.ValidateMessage&&""!=a.ValidateMessage&&c.attr("errormsg",a.ValidateMessage);var d=$("<span class='text-tips'><span class='icon-grid icon-grid-explain' title='说明' ></span>"+a.descr+"</span>"),e=$("<p></p>").addClass("column-one");if(a.ValueDefinition){var f=$.parseJSON(a.ValueDefinition);$.each(f,function(a,b){var c=$("<option></option>").attr({value:b.value}).text(b.text);jqSelect.append(c)}),e.append(b).append(jqSelect).append(d),$("#sysParamList").append(e),jqSelect.val(a.value)}else e.append(b).append(c).append(d),$("#sysParamList").append(e),c.val(a.value)},save:function(){$("#btnSave").on("click",function(){var a={list:""},b=[];$("#baseAttrForm").find("[edit='edit']").each(function(){var a=$(this).attr("id"),c=$(this).val();b.push({Id:a,Value:c})}),a.list=JSON.stringify(b),d.req.updateList(a)})}};b.init=d.init});