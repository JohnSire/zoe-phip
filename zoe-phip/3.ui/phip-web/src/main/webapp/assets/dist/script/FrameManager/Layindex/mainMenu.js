define("modules/FrameManager/Layindex/mainMenu",[],function(a,b,c){var d={init:function(a){d.buildMainMenu(a)},initMenuTree:function(a){var b=$("#mainNav"),c=$("#sidebarNav .y-layout-menu");$("#sidebarNav .y-layout-menu .list-wrap");b.html(""),c.each(function(a){var d=$('<li class="list" navid="menu'+a+'"><a class="link">'+$(this).children("h1").attr("title")+'<span class="text-inner">'+$(this).children("h1").attr("title")+"</span></a></li>").appendTo(b);0==a&&($(this).show(),d.addClass("active")),d.click(function(){b.children("li").removeClass("active"),$(this).addClass("active");var a=$(this).attr("navid");$.cookie("home-menu-mainNav",a);var d=b.children("li").index($(this));c.hide().eq(d).show(),$("#mainNav").find("li").removeClass("active").eq(d).addClass("active")}),$(this).find("ul").hide(),$(this).find("ul").each(function(a){$(this).children("li").each(function(){var a=$(this);a.children("a").children("span");a.children("ul").length>0?(a.children("a").removeAttr("href"),a.children("ul").hide(),a.children("a").click(function(){$(this).hasClass("open")?($(this).removeClass("open").addClass("close"),$(this).parent().children("ul").slideUp(300)):($(this).parent().siblings().each(function(){$(this).children("ul").length>0&&($(this).children("a").removeClass("open").addClass("close"),$(this).children("ul").slideUp(300))}),$(this).removeClass("close").addClass("open"),$(this).parent().children("ul").slideDown(300))})):"undefined"!=typeof a.children("a").attr("href")&&a.children("a").click(function(){c.find("ul li a").removeClass("active"),c.find("ul li").removeClass("active"),c.removeClass("active"),b.children("a").removeClass("active"),$(this).addClass("active"),$(this).parents(".y-layout-menu").addClass("active"),void 0!=$(this).parent("#menu-li-a").children("a").attr("href")&&$(this).parents(".list").addClass("active"),b.children("a").eq(c.index($(this).parents(".y-layout-menu"))).addClass("active"),c.hide(),$(this).parents(".y-layout-menu").show(),"undefined"!=typeof $(this).attr("navid")})}),0==a&&($(this).show(),$(this).children("li").first().children("ul").length>0&&($(this).children("li").first().children("a").removeClass("close").addClass("open"),$(this).children("li").first().children("ul").show())),$(this).show()})}),d.linkMenuTree(a)},buildMainMenu:function(a){d.initMenuTree(a)},linkMenuTree:function(a,b){var c,d=$("#mainNav"),e=$("#sidebarNav .y-layout-menu"),f=($("#sidebarNav .y-layout-menu .list-wrap"),arguments.length);if(c=2==f?e.find('a[navid="'+b+'"]'):e.find('a[navid="'+$.cookie("dt_manage_navigation_cookie")+'"]'),c.length>0?(e.find("ul li a").removeClass("active"),e.find("ul li").removeClass("active"),e.removeClass("active"),d.children("a").removeClass("active"),c.addClass("active"),c.parents(".y-layout-menu").addClass("active"),c.parent(".list").addClass("active"),d.children("a").eq(e.index(c.parents(".y-layout-menu"))).addClass("active"),e.hide(),c.parents(".y-layout-menu").show(),c.parents("li").each(function(){$(this).siblings().each(function(){$(this).children("ul").length>0&&($(this).children("a").removeClass("open").addClass("close"),$(this).children("ul").hide())}),$(this).children("ul").length>0&&$(this).children("a").removeClass("close").addClass("open"),$(this).children("ul").show()}),2==f&&$.cookie("dt_manage_navigation_cookie",b),1==a&&""!=c.attr("href")&&"#"!=c.attr("href")&&(frames.mainframe.location.href=c.attr("href"))):2==f&&(e.find("ul li a").removeClass("active"),$.cookie("dt_manage_navigation_cookie","")),b){var g=$("#sidebarNav").find("[navid='"+b+"']").closest(".y-layout-menu"),h=$("#sidebarNav").find(".y-layout-menu").index(g);$("#mainNav").find("li").removeClass("active").eq(h).addClass("active")}}};b.init=function(a){d.init(a)}});